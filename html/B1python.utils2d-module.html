<?xml version="1.0" encoding="ascii"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
          "DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>B1python.utils2d</title>
  <link rel="stylesheet" href="epydoc.css" type="text/css" />
  <script type="text/javascript" src="epydoc.js"></script>
</head>

<body bgcolor="white" text="black" link="blue" vlink="#204080"
      alink="#204080">
<!-- ==================== NAVIGATION BAR ==================== -->
<table class="navbar" border="0" width="100%" cellpadding="0"
       bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="middle">
  <!-- Home link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="B1python-module.html">Home</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Tree link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="module-tree.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Index link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="identifier-index.html">Indices</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Help link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>

      <th class="navbar" width="100%"></th>
  </tr>
</table>
<table width="100%" cellpadding="0" cellspacing="0">
  <tr valign="top">
    <td width="100%">
      <span class="breadcrumbs">
        <a href="B1python-module.html">Package&nbsp;B1python</a> ::
        Module&nbsp;utils2d
      </span>
    </td>
    <td>
      <table cellpadding="0" cellspacing="0">
        <!-- hide/show private -->
        <tr><td align="right"><span class="options">[<a href="javascript:void(0);" class="privatelink"
    onclick="toggle_private();">hide&nbsp;private</a>]</span></td></tr>
        <tr><td align="right"><span class="options"
            >[<a href="frames.html" target="_top">frames</a
            >]&nbsp;|&nbsp;<a href="B1python.utils2d-module.html"
            target="_top">no&nbsp;frames</a>]</span></td></tr>
      </table>
    </td>
  </tr>
</table>
<!-- ==================== MODULE DESCRIPTION ==================== -->
<h1 class="epydoc">Module utils2d</h1><p class="nomargin-top"><span class="codelink"><a href="B1python.utils2d-pysrc.html">source&nbsp;code</a></span></p>
<!-- ==================== FUNCTIONS ==================== -->
<a name="section-Functions"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Functions</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-Functions"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="B1python.utils2d-module.html#findbeam_gravity" class="summary-sig-name">findbeam_gravity</a>(<span class="summary-sig-arg">data</span>,
        <span class="summary-sig-arg">mask</span>)</span><br />
      Find beam center with the &quot;gravity&quot; method</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="B1python.utils2d-pysrc.html#findbeam_gravity">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="B1python.utils2d-module.html#findbeam_slices" class="summary-sig-name">findbeam_slices</a>(<span class="summary-sig-arg">data</span>,
        <span class="summary-sig-arg">orig_initial</span>,
        <span class="summary-sig-arg">mask</span>=<span class="summary-sig-default">None</span>,
        <span class="summary-sig-arg">maxiter</span>=<span class="summary-sig-default">0</span>)</span><br />
      Find beam center with the &quot;slices&quot; method</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="B1python.utils2d-pysrc.html#findbeam_slices">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="B1python.utils2d-module.html#findbeam_azimuthal" class="summary-sig-name">findbeam_azimuthal</a>(<span class="summary-sig-arg">data</span>,
        <span class="summary-sig-arg">orig_initial</span>,
        <span class="summary-sig-arg">mask</span>=<span class="summary-sig-default">None</span>,
        <span class="summary-sig-arg">maxiter</span>=<span class="summary-sig-default">100</span>,
        <span class="summary-sig-arg">Ntheta</span>=<span class="summary-sig-default">50</span>,
        <span class="summary-sig-arg">dmin</span>=<span class="summary-sig-default">0</span>,
        <span class="summary-sig-arg">dmax</span>=<span class="summary-sig-default">inf</span>)</span><br />
      Find beam center using azimuthal integration</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="B1python.utils2d-pysrc.html#findbeam_azimuthal">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="B1python.utils2d-module.html#findbeam_semitransparent" class="summary-sig-name">findbeam_semitransparent</a>(<span class="summary-sig-arg">data</span>,
        <span class="summary-sig-arg">pri</span>)</span><br />
      Find beam with 2D weighting of semitransparent beamstop area</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="B1python.utils2d-pysrc.html#findbeam_semitransparent">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="B1python.utils2d-module.html#azimintpix" class="summary-sig-name">azimintpix</a>(<span class="summary-sig-arg">data</span>,
        <span class="summary-sig-arg">error</span>,
        <span class="summary-sig-arg">orig</span>,
        <span class="summary-sig-arg">mask</span>,
        <span class="summary-sig-arg">Ntheta</span>=<span class="summary-sig-default">100</span>,
        <span class="summary-sig-arg">dmin</span>=<span class="summary-sig-default">0</span>,
        <span class="summary-sig-arg">dmax</span>=<span class="summary-sig-default">inf</span>)</span><br />
      Perform azimuthal integration of image.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="B1python.utils2d-pysrc.html#azimintpix">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="B1python.utils2d-module.html#imageint" class="summary-sig-name">imageint</a>(<span class="summary-sig-arg">data</span>,
        <span class="summary-sig-arg">orig</span>,
        <span class="summary-sig-arg">mask</span>,
        <span class="summary-sig-arg">fi</span>=<span class="summary-sig-default">None</span>,
        <span class="summary-sig-arg">dfi</span>=<span class="summary-sig-default">None</span>)</span><br />
      Perform radial averaging on the image.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="B1python.utils2d-pysrc.html#imageint">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="B1python.utils2d-module.html#sectint" class="summary-sig-name">sectint</a>(<span class="summary-sig-arg">data</span>,
        <span class="summary-sig-arg">fi</span>,
        <span class="summary-sig-arg">orig</span>,
        <span class="summary-sig-arg">mask</span>)</span><br />
      Calculate sector-delimited radial average</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="B1python.utils2d-pysrc.html#sectint">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="B1python.utils2d-module.html#radint" class="summary-sig-name">radint</a>(<span class="summary-sig-arg">data</span>,
        <span class="summary-sig-arg">dataerr</span>,
        <span class="summary-sig-arg">energy</span>,
        <span class="summary-sig-arg">distance</span>,
        <span class="summary-sig-arg">res</span>,
        <span class="summary-sig-arg">bcx</span>,
        <span class="summary-sig-arg">bcy</span>,
        <span class="summary-sig-arg">mask</span>,
        <span class="summary-sig-arg">q</span>=<span class="summary-sig-default">None</span>,
        <span class="summary-sig-arg">a</span>=<span class="summary-sig-default">None</span>,
        <span class="summary-sig-arg">shutup</span>=<span class="summary-sig-default">True</span>)</span><br />
      Do radial integration on 2D scattering images</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="B1python.utils2d-pysrc.html#radint">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="B1python.utils2d-module.html#calculateDmatrix" class="summary-sig-name">calculateDmatrix</a>(<span class="summary-sig-arg">mask</span>,
        <span class="summary-sig-arg">res</span>,
        <span class="summary-sig-arg">bcx</span>,
        <span class="summary-sig-arg">bcy</span>)</span><br />
      Calculate distances of pixels from the origin</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="B1python.utils2d-pysrc.html#calculateDmatrix">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="B1python.utils2d-module.html#qrangefrommask" class="summary-sig-name">qrangefrommask</a>(<span class="summary-sig-arg">mask</span>,
        <span class="summary-sig-arg">energy</span>,
        <span class="summary-sig-arg">distance</span>,
        <span class="summary-sig-arg">res</span>,
        <span class="summary-sig-arg">bcx</span>,
        <span class="summary-sig-arg">bcy</span>)</span><br />
      Calculate q-range from mask matrix</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="B1python.utils2d-pysrc.html#qrangefrommask">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
</table>
<!-- ==================== VARIABLES ==================== -->
<a name="section-Variables"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Variables</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-Variables"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a name="HC"></a><span class="summary-name">HC</span> = <code title="12398.419">12398.419</code>
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a name="__package__"></a><span class="summary-name">__package__</span> = <code title="'B1python'"><code class="variable-quote">'</code><code class="variable-string">B1python</code><code class="variable-quote">'</code></code>
    </td>
  </tr>
</table>
<!-- ==================== FUNCTION DETAILS ==================== -->
<a name="section-FunctionDetails"></a>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Function Details</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-FunctionDetails"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
</table>
<a name="findbeam_gravity"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">findbeam_gravity</span>(<span class="sig-arg">data</span>,
        <span class="sig-arg">mask</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="B1python.utils2d-pysrc.html#findbeam_gravity">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <pre class="literalblock">
Find beam center with the &quot;gravity&quot; method

Inputs:
    data: scattering image
    mask: mask matrix

Output:
    a vector of length 2 with the x (row) and y (column) coordinates
     of the origin, starting from 1

</pre>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="findbeam_slices"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">findbeam_slices</span>(<span class="sig-arg">data</span>,
        <span class="sig-arg">orig_initial</span>,
        <span class="sig-arg">mask</span>=<span class="sig-default">None</span>,
        <span class="sig-arg">maxiter</span>=<span class="sig-default">0</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="B1python.utils2d-pysrc.html#findbeam_slices">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <pre class="literalblock">
Find beam center with the &quot;slices&quot; method

Inputs:
    data: scattering matrix
    orig_initial: estimated value for x (row) and y (column)
        coordinates of the beam center, starting from 1.
    mask: mask matrix. If None, nothing will be masked. Otherwise it
        should be of the same size as data. Nonzero means non-masked.
    maxiter: maximum number of iterations for scipy.optimize.fmin
Output:
    a vector of length 2 with the x (row) and y (column) coordinates
     of the origin.

</pre>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="findbeam_azimuthal"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">findbeam_azimuthal</span>(<span class="sig-arg">data</span>,
        <span class="sig-arg">orig_initial</span>,
        <span class="sig-arg">mask</span>=<span class="sig-default">None</span>,
        <span class="sig-arg">maxiter</span>=<span class="sig-default">100</span>,
        <span class="sig-arg">Ntheta</span>=<span class="sig-default">50</span>,
        <span class="sig-arg">dmin</span>=<span class="sig-default">0</span>,
        <span class="sig-arg">dmax</span>=<span class="sig-default">inf</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="B1python.utils2d-pysrc.html#findbeam_azimuthal">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <pre class="literalblock">
Find beam center using azimuthal integration

Inputs:
    data: scattering matrix
    orig_initial: estimated value for x (row) and y (column)
        coordinates of the beam center, starting from 1.
    mask: mask matrix. If None, nothing will be masked. Otherwise it
        should be of the same size as data. Nonzero means non-masked.
    maxiter: maximum number of iterations for scipy.optimize.fmin
    Ntheta: the number of theta points for the azimuthal integration
    dmin: pixels nearer to the origin than this will be excluded from
        the azimuthal integration
    dmax: pixels farther from the origin than this will be excluded from
        the azimuthal integration
Output:
    a vector of length 2 with the x and y coordinates of the origin,
        starting from 1

</pre>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="findbeam_semitransparent"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">findbeam_semitransparent</span>(<span class="sig-arg">data</span>,
        <span class="sig-arg">pri</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="B1python.utils2d-pysrc.html#findbeam_semitransparent">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <pre class="literalblock">
Find beam with 2D weighting of semitransparent beamstop area

Inputs:
    data: scattering matrix
    pri: list of four: [xmin,xmax,ymin,ymax] for the borders of the beam
        area under the semitransparent beamstop. X corresponds to the column
        index (ie. A[Y,X] is the element of A from the Xth column and the 
        Yth row)

Outputs: bcx,bcy
    the x and y coordinates of the primary beam

</pre>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="azimintpix"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">azimintpix</span>(<span class="sig-arg">data</span>,
        <span class="sig-arg">error</span>,
        <span class="sig-arg">orig</span>,
        <span class="sig-arg">mask</span>,
        <span class="sig-arg">Ntheta</span>=<span class="sig-default">100</span>,
        <span class="sig-arg">dmin</span>=<span class="sig-default">0</span>,
        <span class="sig-arg">dmax</span>=<span class="sig-default">inf</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="B1python.utils2d-pysrc.html#azimintpix">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <pre class="literalblock">
Perform azimuthal integration of image.

Inputs:
    data: matrix to average
    error: error matrix. If not applicable, set it to None
    orig: vector of beam center coordinates, starting from 1.
    mask: mask matrix; 1 means masked, 0 means non-masked
    Ntheta: number of desired points on the abscissa

Outputs: theta,I,[E],A
    theta: theta-range, in radians
    I: intensity points
    E: error values (returned only if the &quot;error&quot; argument was not None)
    A: effective area points

</pre>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="imageint"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">imageint</span>(<span class="sig-arg">data</span>,
        <span class="sig-arg">orig</span>,
        <span class="sig-arg">mask</span>,
        <span class="sig-arg">fi</span>=<span class="sig-default">None</span>,
        <span class="sig-arg">dfi</span>=<span class="sig-default">None</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="B1python.utils2d-pysrc.html#imageint">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <pre class="literalblock">
Perform radial averaging on the image.

Inputs:
    data: matrix to average
    orig: vector of beam center coordinates, starting from 1.
    mask: mask matrix; 1 means masked, 0 means non-masked
    fi: starting angle for sector averaging, in degrees
    dfi: angle extent for sector averaging, in degrees
Outputs:
    vector of integrated values
    vector of effective areas
    
Note: based on the work of Mika Torkkeli

</pre>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="sectint"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">sectint</span>(<span class="sig-arg">data</span>,
        <span class="sig-arg">fi</span>,
        <span class="sig-arg">orig</span>,
        <span class="sig-arg">mask</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="B1python.utils2d-pysrc.html#sectint">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <pre class="literalblock">
Calculate sector-delimited radial average

Inputs:
    data: matrix to average
    fi: a vector of length 2 of starting and ending angles, in degree.
    orig: the origin. Coordinates are counted from 1.
    mask: mask matrix

Outputs:
    vector of integrated values
    vector of effective areas
    
Note: based on the work of Mika Torkkeli

</pre>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="radint"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">radint</span>(<span class="sig-arg">data</span>,
        <span class="sig-arg">dataerr</span>,
        <span class="sig-arg">energy</span>,
        <span class="sig-arg">distance</span>,
        <span class="sig-arg">res</span>,
        <span class="sig-arg">bcx</span>,
        <span class="sig-arg">bcy</span>,
        <span class="sig-arg">mask</span>,
        <span class="sig-arg">q</span>=<span class="sig-default">None</span>,
        <span class="sig-arg">a</span>=<span class="sig-default">None</span>,
        <span class="sig-arg">shutup</span>=<span class="sig-default">True</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="B1python.utils2d-pysrc.html#radint">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <pre class="literalblock">
Do radial integration on 2D scattering images

Inputs:
    data: the intensity matrix
    dataerr: the error matrix (of the same size as data). Should not be
        zero!
    energy: the (calibrated) beam energy (eV)
    distance: the distance from the sample to the detector (mm)
    res: pixel size in mm-s. Both x and y (row and column) direction can
        be given if wished, in a list with two elements. A scalar value
        means that the pixel size is equal in both directions
    bcx: the coordinate of the beam center in the x (row) direction,
        starting from 1
    bcy: the coordinate of the beam center in the y (column) direction,
        starting from 1
    mask: the mask matrix (of the same size as data). Nonzero is masked,
        zero is not masked
    q: the q points at which the integration is requested. If None, the
        q-range is automatically guessed from the energy, the distance and
        the mask. It should be defined in 1/Angstroems.
    a: limiting angles. If None (default), simple radial integration
        is performed. If it is a list of length=2
    shutup: if True, work quietly (do not print messages).
    
Outputs: four ndarrays.
    the q vector
    the intensity vector
    the error vector
    the area vector

</pre>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="calculateDmatrix"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">calculateDmatrix</span>(<span class="sig-arg">mask</span>,
        <span class="sig-arg">res</span>,
        <span class="sig-arg">bcx</span>,
        <span class="sig-arg">bcy</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="B1python.utils2d-pysrc.html#calculateDmatrix">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <pre class="literalblock">
Calculate distances of pixels from the origin

Inputs:
    mask: mask matrix (only its shape is used)
    res: pixel size in mm-s. Can be a vector of length 2 or a scalar
    bcx: Beam center in pixels, in the row direction, starting from 1
    bcy: Beam center in pixels, in the column direction, starting from 1
    
Output:
    A matrix of the shape of &lt;mask&gt;. Each element contains the distance
    of the centers of the pixels from the origin (bcx,bcy), expressed in
    mm-s.

</pre>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="qrangefrommask"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">qrangefrommask</span>(<span class="sig-arg">mask</span>,
        <span class="sig-arg">energy</span>,
        <span class="sig-arg">distance</span>,
        <span class="sig-arg">res</span>,
        <span class="sig-arg">bcx</span>,
        <span class="sig-arg">bcy</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="B1python.utils2d-pysrc.html#qrangefrommask">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <pre class="literalblock">
Calculate q-range from mask matrix

Inputs:
    mask: mask matrix (1 unmasked, 0 masked)
    energy: calibrated energy
    distance: sample-to-detector distance
    res: pixel size
    bcx: row coordinate of beam center (starting from 1)
    bcy: column coordinate of beam center (starting from 1)
    
Outputs: qmin,qmax,Nq
    qmin: smallest q-value (smallest distance of unmasked points from
        the origin)
    qmax: largest q-value (largest distance of unmasked points from
        the origin)
    Nq: number of q-bins (approx. one q-bin for one pixel)

</pre>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<br />
<!-- ==================== NAVIGATION BAR ==================== -->
<table class="navbar" border="0" width="100%" cellpadding="0"
       bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="middle">
  <!-- Home link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="B1python-module.html">Home</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Tree link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="module-tree.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Index link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="identifier-index.html">Indices</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Help link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>

      <th class="navbar" width="100%"></th>
  </tr>
</table>
<table border="0" cellpadding="0" cellspacing="0" width="100%%">
  <tr>
    <td align="left" class="footer">
    Generated by Epydoc 3.0.1 on Tue Apr 27 11:02:14 2010
    </td>
    <td align="right" class="footer">
      <a target="mainFrame" href="http://epydoc.sourceforge.net"
        >http://epydoc.sourceforge.net</a>
    </td>
  </tr>
</table>

<script type="text/javascript">
  <!--
  // Private objects are initially displayed (because if
  // javascript is turned off then we want them to be
  // visible); but by default, we want to hide them.  So hide
  // them unless we have a cookie that says to show them.
  checkCookie();
  // -->
</script>
</body>
</html>
